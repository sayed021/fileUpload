<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<title>MIS | Home</title>
	<link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,700,900" rel="stylesheet">
	<link rel="stylesheet" href="vendors/fontawesome/css/all.min.css" />
	<link rel="stylesheet" href="https://cdn.datatables.net/1.10.18/css/jquery.dataTables.min.css">
	<link rel="stylesheet" type="text/css" href="vendors/bootstrap/css/bootstrap.min.css" />
	<link rel="stylesheet" href="vendors/bs-select/css/bootstrap-select.min.css" />
	<link rel="stylesheet" href="vendors/jquery-ui/jquery-ui.min.css" />

	<link rel="stylesheet" href="appstyle.css" />
	<link rel="stylesheet" href="css/responsive.css" />
	
</head>
<body>


	<div id="content">
		<div class="container-fluid px-0">
			<div class="row">
				<div class="content-header col-12 d-flex justify-content-between align-items-center">
					
					
					<div class="right-section">
						 <button class="btn btn-primary btn-sm btn-upload" type="button" data-toggle="collapse" data-target="#upload-wrap" aria-expanded="false" aria-controls="upload-wrap">Upload File</button>

						 <button class="btn btn-sm btn-cancel" type="button" data-toggle="collapse" data-target="#upload-wrap" aria-expanded="true" aria-controls="upload-wrap">Cancel</button>
					</div>
				</div>

				<!-- 
					upload-success
					upload-error
					collapse
				 -->

				<div class="col-12 upload-wrap" id="upload-wrap">
					<div class="content p-3 bg-white rounded">
						<form action="#" id="myform" class="d-block w-100 p-0">
							<div class="row">
								<div class="col-sm-6 col-12">
									<div class="upload-area rounded">


										<div class="fileinput-button dz-clickable text-center" >

											<input type="file" name="file" class="file" id="file" >

											<div class="drag-info">
										    	<span class="upload-icon">
										    		<img src="images/icon-upload.png" alt="" width="39" height="50" />
										    	</span>
										        <strong class="drag-area">Drag your file here or <label for="file">browse</span></strong>
											</div>
									    </div>

								    	<div class="files left-upload-area" id="previews">
						    				<div id="template" class="file-row d-table w-100">

												<div class="left-thumb d-table-cell">
													<div class="col upload-thumbnil">
											    		<span class="preview">
											    			<img src="images/icon-image.png" data-dz-thumbnail alt="" width="32" height="40">
											    		</span>
											    	</div>
												</div> 
												<div class="right-info d-table-cell">
													<div class="top-area d-flex">
														<div class="left-text">
															<strong class="name" data-dz-name>Contract Template.pdf </strong>
										    		        <span class="up-status">is uploading..</span>
														</div>
														<div class="right-action ml-auto">
															<span class="cancel-button">Cancel</span>
															<span class="remove-button">Remove</span>
														</div>
													</div>
													<div class="progress-area">
														<div class="progress-outer bg-faded">
															<div class="bar" data-dz-uploadprogress style="width: 0%"></div>
														</div>
													</div>
												</div>
						    				</div>
						    			</div>

									</div>
								</div>

								<div class="col-sm-6 col-12">
									<div class="row">
										<div class="col-12 d-flex justify-content-end upload-button-wrap">
											<button class="btn btn-primary btn-sm btn-form-upload" id="uploadbutton" type="submit" >Upload</button>
										</div>
									</div>
								</div>
							</div>

						</form>
					</div>
				</div>
			</div>
		</div>

		
	</div>
	

<script src="vendors/jquery-3.3.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script type="text/javascript" src="vendors/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="vendors/bs-select/js/bootstrap-select.min.js"></script>
<script src="vendors/jquery-ui/jquery-ui.min.js"></script>
<script src="vendors/dropzone.js"></script>
<script src="https://cdn.datatables.net/1.10.18/js/jquery.dataTables.min.js"></script>
<script src="js/app.js"></script>







<script>

	// myDropzone.on("addedfile", function(file) {  
	    // var fileType = file.type; 
     //    if(fileType.indexOf('image') >= 0){
     //    	myDropzone.emit("thumbnail", file, "images/icon-image.png");
	    // }else if(fileType.indexOf('pdf') >= 0){
	    // 	myDropzone.emit("thumbnail", file, "images/icon-pdf.png");
	    // }else if(fileType.indexOf('audio') >= 0){
	    // 	myDropzone.emit("thumbnail", file, "images/icon-audio.png");
	    // }else if(fileType.indexOf('video') >= 0){
	    // 	myDropzone.emit("thumbnail", file, "images/icon-video.png");
	    // }else if(fileType.indexOf('sheet') >= 0){
	    // 	myDropzone.emit("thumbnail", file, "images/icon-excel.png");
	    // }else if(fileType.indexOf('msword') >= 0){
	    // 	myDropzone.emit("thumbnail", file, "images/icon-doc.png");
	    // }
	    // else if(fileType.indexOf('html') >= 0){
	    // 	myDropzone.emit("thumbnail", file, "images/icon-html.png");
	    // }else {
	    // 	myDropzone.emit("thumbnail", file, "images/icon-unknown.png");
	    // }

	    // console.log(file);

	    // $(document).find('input[name="myfile"]').files = file;
	// });


	// drag status
	$('.fileinput-button').on("dragenter", function() { 
		$(document).find('.upload-area').addClass('highlight'); 
	});

	$('.fileinput-button *').on("dragenter", function() { 
		$(document).find('.upload-area').addClass('highlight'); 
	});

	$('.fileinput-button').on("drop dragend mouseleave dragleave", function() {
	   $(document).find('.upload-area').removeClass('highlight');
	});

	$('#myform input[name="file"]').on('change',  function(e) {
   		event.preventDefault();
   		readURL(this);
    });

    $('#myform').on('click', '.cancel-button', function(e) {
   		event.preventDefault();
   		$('.fileinput-button').fadeIn(0).next('#previews').fadeOut(0);
   		$('#myform .file').replaceWith($('#myform .file').val('').clone(true));
    });



	//preview image
    function readURL(input) {

	  if (input.files && input.files[0]) {

	  	// var objfile = input.files[0];
	    // console.log("file name: "+ objfile.name);
	    // console.log("file size: "+ objfile.size/1000+" KB");

	    var reader = new FileReader();
	    reader.onload = function(e) {
	    	setfilePriview(input);
	    }
	    reader.readAsDataURL(input.files[0]);

	  }else {
	  	$('.fileinput-button').fadeIn(0).next('#previews').fadeOut(0);
	  	$('#myform .file').replaceWith($('#myform .file').val('').clone(true));
	  }
	}

	//set thumbnil in preview
	function setfilePriview(file) {

		var objfile = file.files[0];

		console.log("file name: "+ objfile.type);

		$('#template .upload-thumbnil img').attr('src', filetypeset(objfile.type));
		$('#template .left-text .name').text(objfile.name);

		$('.fileinput-button').fadeOut(0).next('#previews').fadeIn(300);

		
	}



	//set thumbnil in preview
	function filetypeset(type) {

		if(type.indexOf('image') >= 0){
			 return "images/icon-image.png";

		}else if(type.indexOf('pdf') >= 0){
			 return "images/icon-pdf.png";

		}else if(type.indexOf('audio') >= 0){
			 return "images/icon-audio.png";

		}else if(type.indexOf('video') >= 0){
			 return "images/icon-video.png";

		}else if(type.indexOf('sheet') >= 0){
			 return "images/icon-excel.png";

		}else if(type.indexOf('document') >= 0){
			 return "images/icon-doc.png";

		}
		else if(type.indexOf('html') >= 0){
			 return "images/icon-html.png";

		}else {
			 return "images/icon-unknown.png";

		}
	}




</script>


</body>
</html>

